{% extends "base.html" %}

{% block content %}

<div class="container category-section">

    <h2 class="section-title">{{ category_name }}</h2>

    {% if posts %}
        {% for post in posts %}
        <div class="post-card">
            
            <h3 class="post-title">
                <a href="{{ url_for('post_routes.post_detail', post_id=post['id']) }}">
                    {{ post['title'] }}
                </a>
            </h3>

            <p class="post-meta">
                {{ post['category_name'] }} ｜ {{ post['created_at'] }}
            </p>

            <p class="post-excerpt">
                {{ post['content'] | striptags | truncate(80, True, '…') }}
            </p>

        </div>
        {% endfor %}
    {% else %}
        <p>這個分類目前沒有文章。</p>
    {% endif %}

</div>

{% endblock %}
